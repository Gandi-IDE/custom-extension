/*Icon积木/菜单/小图标*/
const Icon="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSI3OS4yNSIgaGVpZ2h0PSI3OS4yNSIgdmlld0JveD0iMCwwLDc5LjI1LDc5LjI1Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMjAwLjM3NSwtMTQwLjM3NSkiPjxnIGRhdGEtcGFwZXItZGF0YT0ieyZxdW90O2lzUGFpbnRpbmdMYXllciZxdW90Ozp0cnVlfSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJub256ZXJvIiBzdHJva2U9IiNmZmZmZmYiIHN0cm9rZS1saW5lY2FwPSJidXR0IiBzdHJva2UtbGluZWpvaW49Im1pdGVyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjAiIHN0eWxlPSJtaXgtYmxlbmQtbW9kZTogbm9ybWFsIj48cGF0aCBkPSJNMjI0LjAzNDY1LDE5OC43NTAwMWMtNi41NjE4LDAgLTExLjg4MTE5LC01LjMxOTM5IC0xMS44ODExOSwtMTEuODgxMTl2LTEzLjczNzYzYzAsLTYuNTYxOCA1LjMxOTM5LC0xMS44ODExOSAxMS44ODExOSwtMTEuODgxMTkiIHN0cm9rZS13aWR0aD0iMy43NSIvPjxwYXRoIGQ9Ik0yNTUuOTY1MzUsMTYxLjI0OTk5YzYuNTYxOCwwIDExLjg4MTE5LDUuMzE5MzkgMTEuODgxMTksMTEuODgxMTl2MTMuNzM3NjNjMCw2LjU2MTggLTUuMzE5MzksMTEuODgxMTkgLTExLjg4MTE5LDExLjg4MTE5IiBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpbmRleCZxdW90OzpudWxsfSIgc3Ryb2tlLXdpZHRoPSIzLjc1Ii8+PHBhdGggZD0iTTIyMy44MTAxNywxOTIuNTIzMDRjLTIuMTIzMSwwIC0zLjg0NDIxLC0xLjcyMTExIC0zLjg0NDIxLC0zLjg0NDIxdjBjMCwtMi4xMjMxIDEuNzIxMTEsLTMuODQ0MjEgMy44NDQyMSwtMy44NDQyMWgxMC4zMzEzMWMyLjEyMzEsMCAzLjg0NDIxLDEuNzIxMTEgMy44NDQyMSwzLjg0NDIxdjBjMCwyLjEyMzEgLTEuNzIxMTEsMy44NDQyMSAtMy44NDQyMSwzLjg0NDIxeiIgc3Ryb2tlLXdpZHRoPSIyLjUiLz48cGF0aCBkPSJNMjQ1Ljg1ODUyLDE5Mi41MjMwNGMtMi4xMjMxLDAgLTMuODQ0MjEsLTEuNzIxMTEgLTMuODQ0MjEsLTMuODQ0MjF2MGMwLC0yLjEyMzEgMS43MjExMSwtMy44NDQyMSAzLjg0NDIxLC0zLjg0NDIxaDEwLjMzMTMxYzIuMTIzMSwwIDMuODQ0MjEsMS43MjExMSAzLjg0NDIxLDMuODQ0MjF2MGMwLDIuMTIzMSAtMS43MjExMSwzLjg0NDIxIC0zLjg0NDIxLDMuODQ0MjF6IiBzdHJva2Utd2lkdGg9IjIuNSIvPjxwYXRoIGQ9Ik0yMjMuODEwMTcsMTc1LjE2NTM2Yy0yLjEyMzEsMCAtMy44NDQyMSwtMS43MjExMSAtMy44NDQyMSwtMy44NDQyMXYwYzAsLTIuMTIzMSAxLjcyMTExLC0zLjg0NDIxIDMuODQ0MjEsLTMuODQ0MjFoMTAuMzMxMzFjMi4xMjMxLDAgMy44NDQyMSwxLjcyMTExIDMuODQ0MjEsMy44NDQyMXYwYzAsMi4xMjMxIC0xLjcyMTExLDMuODQ0MjEgLTMuODQ0MjEsMy44NDQyMXoiIHN0cm9rZS13aWR0aD0iMi41Ii8+PHBhdGggZD0iTTI0NS42MDg1MiwxNzUuMTY1MzZjLTIuMTIzMSwwIC0zLjg0NDIxLC0xLjcyMTExIC0zLjg0NDIxLC0zLjg0NDIxdjBjMCwtMi4xMjMxIDEuNzIxMTEsLTMuODQ0MjEgMy44NDQyMSwtMy44NDQyMWgxMC4zMzEzMWMyLjEyMzEsMCAzLjg0NDIxLDEuNzIxMTEgMy44NDQyMSwzLjg0NDIxdjBjMCwyLjEyMzEgLTEuNzIxMTEsMy44NDQyMSAtMy44NDQyMSwzLjg0NDIxeiIgc3Ryb2tlLXdpZHRoPSIyLjUiLz48cGF0aCBkPSJNMjAwLjM3NSwxODBjMCwtMjEuODg0MjkgMTcuNzQwNzEsLTM5LjYyNSAzOS42MjUsLTM5LjYyNWMyMS44ODQyOCwwIDM5LjYyNSwxNy43NDA3MSAzOS42MjUsMzkuNjI1YzAsMjEuODg0MjkgLTE3Ljc0MDcyLDM5LjYyNSAtMzkuNjI1LDM5LjYyNWMtMjEuODg0MjksMCAtMzkuNjI1LC0xNy43NDA3MSAtMzkuNjI1LC0zOS42MjV6IiBzdHJva2Utd2lkdGg9IjAiLz48L2c+PC9nPjwvc3ZnPjwhLS1yb3RhdGlvbkNlbnRlcjozOS42MjU6MzkuNjI1LS0+";
/*insetIcon大图标*/
const insetIcon="data:image/svg+xml;base64,PHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSI1OTkuNjU3NDgiIGhlaWdodD0iMzcxLjUxOTUyIiB2aWV3Qm94PSIwLDAsNTk5LjY1NzQ4LDM3MS41MTk1MiI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTkuODI4NzQsNS43NTk3NikiPjxnIGRhdGEtcGFwZXItZGF0YT0ieyZxdW90O2lzUGFpbnRpbmdMYXllciZxdW90Ozp0cnVlfSIgZmlsbC1ydWxlPSJub256ZXJvIiBzdHJva2UtbGluZWpvaW49Im1pdGVyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjAiIHN0eWxlPSJtaXgtYmxlbmQtbW9kZTogbm9ybWFsIj48Zz48ZyBmaWxsPSIjODdkNjExIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIGZvbnQtZmFtaWx5PSJTYW5zIFNlcmlmIiBmb250LXdlaWdodD0ibm9ybWFsIiBmb250LXNpemU9IjQwIiB0ZXh0LWFuY2hvcj0ic3RhcnQiPjxnPjx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDIxMi4zMzAwMSwyODIpIHNjYWxlKDIuMzc1LDIuMzc1KSIgZm9udC1zaXplPSI0MCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgZmlsbD0iIzg3ZDYxMSIgZmlsbC1ydWxlPSJub256ZXJvIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iIiBzdHJva2UtZGFzaG9mZnNldD0iMCIgZm9udC1mYW1pbHk9IlNhbnMgU2VyaWYiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOiBub3JtYWwiPjx0c3BhbiB4PSIwIiBkeT0iMCI+MTwvdHNwYW4+PC90ZXh0Pjx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDIxNC4zMzAwMSwxMzUpIHNjYWxlKDIuMzc1LDIuMzc1KSIgZm9udC1zaXplPSI0MCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgZmlsbD0iIzg3ZDYxMSIgZmlsbC1ydWxlPSJub256ZXJvIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iIiBzdHJva2UtZGFzaG9mZnNldD0iMCIgZm9udC1mYW1pbHk9IlNhbnMgU2VyaWYiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOiBub3JtYWwiPjx0c3BhbiB4PSIwIiBkeT0iMCI+MDwvdHNwYW4+PC90ZXh0PjwvZz48Zz48dGV4dCB0cmFuc2Zvcm09InRyYW5zbGF0ZSg5OS43MTc0LDI4Mikgc2NhbGUoMi4zNzUsMi4zNzUpIiBmb250LXNpemU9IjQwIiB4bWw6c3BhY2U9InByZXNlcnZlIiBmaWxsPSIjODdkNjExIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBzdHJva2UtbGluZWNhcD0iYnV0dCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIiIHN0cm9rZS1kYXNob2Zmc2V0PSIwIiBmb250LWZhbWlseT0iU2FucyBTZXJpZiIgZm9udC13ZWlnaHQ9Im5vcm1hbCIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6IG5vcm1hbCI+PHRzcGFuIHg9IjAiIGR5PSIwIj40PC90c3Bhbj48L3RleHQ+PHRleHQgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTAxLjcxNzQsMTM1KSBzY2FsZSgyLjM3NSwyLjM3NSkiIGZvbnQtc2l6ZT0iNDAiIHhtbDpzcGFjZT0icHJlc2VydmUiIGZpbGw9IiM4N2Q2MTEiIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIHN0cm9rZS1saW5lY2FwPSJidXR0IiBzdHJva2UtbGluZWpvaW49Im1pdGVyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjAiIGZvbnQtZmFtaWx5PSJTYW5zIFNlcmlmIiBmb250LXdlaWdodD0ibm9ybWFsIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJtaXgtYmxlbmQtbW9kZTogbm9ybWFsIj48dHNwYW4geD0iMCIgZHk9IjAiPjU8L3RzcGFuPjwvdGV4dD48L2c+PGc+PHRleHQgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzI1Ljk0MjYyLDEzNSkgc2NhbGUoMi4zNzUsMi4zNzUpIiBmb250LXNpemU9IjQwIiB4bWw6c3BhY2U9InByZXNlcnZlIiBmaWxsPSIjODdkNjExIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBzdHJva2UtbGluZWNhcD0iYnV0dCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIiIHN0cm9rZS1kYXNob2Zmc2V0PSIwIiBmb250LWZhbWlseT0iU2FucyBTZXJpZiIgZm9udC13ZWlnaHQ9Im5vcm1hbCIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6IG5vcm1hbCI+PHRzcGFuIHg9IjAiIGR5PSIwIj4xPC90c3Bhbj48L3RleHQ+PHRleHQgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzI1Ljk0MjYyLDI4Mikgc2NhbGUoMi4zNzUsMi4zNzUpIiBmb250LXNpemU9IjQwIiB4bWw6c3BhY2U9InByZXNlcnZlIiBmaWxsPSIjODdkNjExIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBzdHJva2UtbGluZWNhcD0iYnV0dCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIiIHN0cm9rZS1kYXNob2Zmc2V0PSIwIiBmb250LWZhbWlseT0iU2FucyBTZXJpZiIgZm9udC13ZWlnaHQ9Im5vcm1hbCIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6IG5vcm1hbCI+PHRzcGFuIHg9IjAiIGR5PSIwIj4yPC90c3Bhbj48L3RleHQ+PC9nPjwvZz48ZyBmaWxsPSJub25lIiBzdHJva2U9IiM4N2Q2MTEiIHN0cm9rZS13aWR0aD0iNy41Ij48ZyBzdHJva2UtbGluZWNhcD0icm91bmQiPjxwYXRoIGQ9Ik00My42MjUsMjk4LjI1aDY0Ii8+PHBhdGggZD0iTTc1LjYyNSwzMzAuMjV2LTY0IiBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpbmRleCZxdW90OzpudWxsfSIvPjwvZz48cGF0aCBkPSJNNDguODc1LDk3LjI1YzAsLTM3LjI3OTIyIDMwLjIyMDc4LC02Ny41IDY3LjUsLTY3LjVoMjUyLjVjMzcuMjc5MjIsMCA2Ny41LDMwLjIyMDc4IDY3LjUsNjcuNSIgZGF0YS1wYXBlci1kYXRhPSJ7JnF1b3Q7aW5kZXgmcXVvdDs6bnVsbH0iIHN0cm9rZS1saW5lY2FwPSJidXR0Ii8+PHBhdGggZD0iTTQzNS4zNzUsMjUxLjc1YzAsMzcuMjc5MjIgLTMwLjIyMDc4LDY3LjUgLTY3LjUsNjcuNWgtMjEwLjUiIGRhdGEtcGFwZXItZGF0YT0ieyZxdW90O2luZGV4JnF1b3Q7Om51bGx9IiBzdHJva2UtbGluZWNhcD0iYnV0dCIvPjwvZz48L2c+PHBhdGggZD0iTS01OS44Mjg3NCwzNjUuNzU5NzZ2LTM3MS41MTk1Mmg1OTkuNjU3NDh2MzcxLjUxOTUyeiIgZmlsbD0iIzZjYWEwZSIgc3Ryb2tlPSJub25lIiBzdHJva2Utd2lkdGg9IjEiIHN0cm9rZS1saW5lY2FwPSJidXR0Ii8+PGcgc3Ryb2tlPSIjNzZiYTBmIj48ZyBmaWxsPSIjNzZiYTBmIiBzdHJva2Utd2lkdGg9IjEiIHN0cm9rZS1saW5lY2FwPSJidXR0IiBmb250LWZhbWlseT0iU2FucyBTZXJpZiIgZm9udC13ZWlnaHQ9Im5vcm1hbCIgZm9udC1zaXplPSI0MCIgdGV4dC1hbmNob3I9InN0YXJ0Ij48Zz48dGV4dCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNzUuNzYxOTYsMjk2LjA5MTgpIHJvdGF0ZSgtNi44ODE1MSkgc2NhbGUoMS45MTI3NSwxLjkxMjc1KSIgZm9udC1zaXplPSI0MCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgZmlsbD0iIzc2YmEwZiIgZmlsbC1ydWxlPSJub256ZXJvIiBzdHJva2U9IiM3NmJhMGYiIHN0cm9rZS13aWR0aD0iMSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iIiBzdHJva2UtZGFzaG9mZnNldD0iMCIgZm9udC1mYW1pbHk9IlNhbnMgU2VyaWYiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOiBub3JtYWwiPjx0c3BhbiB4PSIwIiBkeT0iMCI+MTwvdHNwYW4+PC90ZXh0Pjx0ZXh0IHRyYW5zZm9ybT0idHJhbnNsYXRlKDI2My4xNzYxMywxNzguMzYyNTEpIHJvdGF0ZSgtNi44ODE1MSkgc2NhbGUoMS45MTI3NSwxLjkxMjc1KSIgZm9udC1zaXplPSI0MCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSIgZmlsbD0iIzc2YmEwZiIgZmlsbC1ydWxlPSJub256ZXJvIiBzdHJva2U9IiM3NmJhMGYiIHN0cm9rZS13aWR0aD0iMSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiIHN0cm9rZS1saW5lam9pbj0ibWl0ZXIiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgc3Ryb2tlLWRhc2hhcnJheT0iIiBzdHJva2UtZGFzaG9mZnNldD0iMCIgZm9udC1mYW1pbHk9IlNhbnMgU2VyaWYiIGZvbnQtd2VpZ2h0PSJub3JtYWwiIHRleHQtYW5jaG9yPSJzdGFydCIgc3R5bGU9Im1peC1ibGVuZC1tb2RlOiBub3JtYWwiPjx0c3BhbiB4PSIwIiBkeT0iMCI+MDwvdHNwYW4+PC90ZXh0PjwvZz48Zz48dGV4dCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxODUuNzIwNjgsMzA2Ljk1ODUxKSByb3RhdGUoLTYuODgxNTEpIHNjYWxlKDEuOTEyNzUsMS45MTI3NSkiIGZvbnQtc2l6ZT0iNDAiIHhtbDpzcGFjZT0icHJlc2VydmUiIGZpbGw9IiM3NmJhMGYiIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlPSIjNzZiYTBmIiBzdHJva2Utd2lkdGg9IjEiIHN0cm9rZS1saW5lY2FwPSJidXR0IiBzdHJva2UtbGluZWpvaW49Im1pdGVyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjAiIGZvbnQtZmFtaWx5PSJTYW5zIFNlcmlmIiBmb250LXdlaWdodD0ibm9ybWFsIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJtaXgtYmxlbmQtbW9kZTogbm9ybWFsIj48dHNwYW4geD0iMCIgZHk9IjAiPjQ8L3RzcGFuPjwvdGV4dD48dGV4dCB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNzMuMTM0ODUsMTg5LjIyOTIyKSByb3RhdGUoLTYuODgxNTEpIHNjYWxlKDEuOTEyNzUsMS45MTI3NSkiIGZvbnQtc2l6ZT0iNDAiIHhtbDpzcGFjZT0icHJlc2VydmUiIGZpbGw9IiM3NmJhMGYiIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlPSIjNzZiYTBmIiBzdHJva2Utd2lkdGg9IjEiIHN0cm9rZS1saW5lY2FwPSJidXR0IiBzdHJva2UtbGluZWpvaW49Im1pdGVyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjAiIGZvbnQtZmFtaWx5PSJTYW5zIFNlcmlmIiBmb250LXdlaWdodD0ibm9ybWFsIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJtaXgtYmxlbmQtbW9kZTogbm9ybWFsIj48dHNwYW4geD0iMCIgZHk9IjAiPjU8L3RzcGFuPjwvdGV4dD48L2c+PGc+PHRleHQgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzUyLjQxNzg1LDE2Ny41OTIzMSkgcm90YXRlKC02Ljg4MTUxKSBzY2FsZSgxLjkxMjc1LDEuOTEyNzUpIiBmb250LXNpemU9IjQwIiB4bWw6c3BhY2U9InByZXNlcnZlIiBmaWxsPSIjNzZiYTBmIiBmaWxsLXJ1bGU9Im5vbnplcm8iIHN0cm9rZT0iIzc2YmEwZiIgc3Ryb2tlLXdpZHRoPSIxIiBzdHJva2UtbGluZWNhcD0iYnV0dCIgc3Ryb2tlLWxpbmVqb2luPSJtaXRlciIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiBzdHJva2UtZGFzaGFycmF5PSIiIHN0cm9rZS1kYXNob2Zmc2V0PSIwIiBmb250LWZhbWlseT0iU2FucyBTZXJpZiIgZm9udC13ZWlnaHQ9Im5vcm1hbCIgdGV4dC1hbmNob3I9InN0YXJ0IiBzdHlsZT0ibWl4LWJsZW5kLW1vZGU6IG5vcm1hbCI+PHRzcGFuIHg9IjAiIGR5PSIwIj4xPC90c3Bhbj48L3RleHQ+PHRleHQgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMzY2LjYwMjgyLDI4NS4xMjg2KSByb3RhdGUoLTYuODgxNTEpIHNjYWxlKDEuOTEyNzUsMS45MTI3NSkiIGZvbnQtc2l6ZT0iNDAiIHhtbDpzcGFjZT0icHJlc2VydmUiIGZpbGw9IiM3NmJhMGYiIGZpbGwtcnVsZT0ibm9uemVybyIgc3Ryb2tlPSIjNzZiYTBmIiBzdHJva2Utd2lkdGg9IjEiIHN0cm9rZS1saW5lY2FwPSJidXR0IiBzdHJva2UtbGluZWpvaW49Im1pdGVyIiBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiIHN0cm9rZS1kYXNoYXJyYXk9IiIgc3Ryb2tlLWRhc2hvZmZzZXQ9IjAiIGZvbnQtZmFtaWx5PSJTYW5zIFNlcmlmIiBmb250LXdlaWdodD0ibm9ybWFsIiB0ZXh0LWFuY2hvcj0ic3RhcnQiIHN0eWxlPSJtaXgtYmxlbmQtbW9kZTogbm9ybWFsIj48dHNwYW4geD0iMCIgZHk9IjAiPjI8L3RzcGFuPjwvdGV4dD48L2c+PC9nPjxnIHN0cm9rZS13aWR0aD0iNy41Ij48ZyBmaWxsPSIjNzZiYTBmIiBzdHJva2UtbGluZWNhcD0icm91bmQiPjxwYXRoIGQ9Ik0xNDIuNDM5MTMsMzI1LjM2NDE4bDUxLjE3MjI3LC02LjE3NTc3Ii8+PHBhdGggZD0iTTE3MS4xMTMxNCwzNDcuODYyNDNsLTYuMTc1NzcsLTUxLjE3MjI3IiBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpbmRleCZxdW90OzpudWxsfSIvPjwvZz48cGF0aCBkPSJNMTI3LjI0MTA5LDE2NC4xNDQ2OGMtMy41OTczMSwtMjkuODA3MjIgMTcuNjUwMDIsLTU2Ljg4Njk0IDQ3LjQ1NzI1LC02MC40ODQyNWwyMDEuODkwNTgsLTI0LjM2NTMzYzI5LjgwNzIyLC0zLjU5NzMxIDU2Ljg4Njk0LDE3LjY1MDAyIDYwLjQ4NDI1LDQ3LjQ1NzI1IiBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpbmRleCZxdW90OzpudWxsfSIgZmlsbD0ibm9uZSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiLz48cGF0aCBkPSJNNDUxLjE4MjI4LDI1MC4zODE4OWMzLjU5NzMxLDI5LjgwNzIyIC0xNy42NTAwMiw1Ni44ODY5NCAtNDcuNDU3MjUsNjAuNDg0MjVsLTE2OC4zMDg3OCwyMC4zMTI0OCIgZGF0YS1wYXBlci1kYXRhPSJ7JnF1b3Q7aW5kZXgmcXVvdDs6bnVsbH0iIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJidXR0Ii8+PC9nPjwvZz48ZyBmaWxsPSJub25lIiBzdHJva2U9IiM4OGQ3MTEiIHN0cm9rZS13aWR0aD0iMTAiIHN0cm9rZS1saW5lY2FwPSJidXR0Ij48cGF0aCBkPSJNNzguNTU0NDYsMTc5LjUwMDAxYy0yMi4zOTc2MiwwIC00MC41NTQ0NiwtMTguMTU2ODUgLTQwLjU1NDQ2LC00MC41NTQ0NnYtNDYuODkxMDljMCwtMjIuMzk3NjIgMTguMTU2ODUsLTQwLjU1NDQ2IDQwLjU1NDQ2LC00MC41NTQ0NiIvPjxwYXRoIGQ9Ik0xODcuNTQ0NTUsNTEuNWMyMi4zOTc2MSwwIDQwLjU1NDQ2LDE4LjE1Njg0IDQwLjU1NDQ2LDQwLjU1NDQ2djQ2Ljg5MTA5YzAsMjIuMzk3NjEgLTE4LjE1Njg0LDQwLjU1NDQ2IC00MC41NTQ0Niw0MC41NTQ0NiIgZGF0YS1wYXBlci1kYXRhPSJ7JnF1b3Q7aW5kZXgmcXVvdDs6bnVsbH0iLz48cGF0aCBkPSJNNzcuNzg4MjIsMTU4LjI0NTMyYy03LjI0Njg0LDAgLTEzLjEyMTU2LC01Ljg3NDcyIC0xMy4xMjE1NiwtMTMuMTIxNTZ2MGMwLC03LjI0Njg0IDUuODc0NzIsLTEzLjEyMTU2IDEzLjEyMTU2LC0xMy4xMjE1NmgzNS4yNjQxOWM3LjI0Njg1LDAgMTMuMTIxNTcsNS44NzQ3MiAxMy4xMjE1NywxMy4xMjE1NnYwYzAsNy4yNDY4NCAtNS44NzQ3MywxMy4xMjE1NiAtMTMuMTIxNTcsMTMuMTIxNTZ6Ii8+PHBhdGggZD0iTTE1My4wNDY1OSwxNTguMjQ1MzJjLTcuMjQ2ODQsMCAtMTMuMTIxNTYsLTUuODc0NzIgLTEzLjEyMTU2LC0xMy4xMjE1NnYwYzAsLTcuMjQ2ODQgNS44NzQ3MiwtMTMuMTIxNTYgMTMuMTIxNTYsLTEzLjEyMTU2aDM1LjI2NDJjNy4yNDY4NCwwIDEzLjEyMTU2LDUuODc0NzIgMTMuMTIxNTYsMTMuMTIxNTZ2MGMwLDcuMjQ2ODQgLTUuODc0NzIsMTMuMTIxNTYgLTEzLjEyMTU2LDEzLjEyMTU2eiIvPjxwYXRoIGQ9Ik03Ny43ODgyMiw5OC45OTc4Yy03LjI0Njg0LDAgLTEzLjEyMTU2LC01Ljg3NDcyIC0xMy4xMjE1NiwtMTMuMTIxNTZ2MGMwLC03LjI0Njg0IDUuODc0NzIsLTEzLjEyMTU2IDEzLjEyMTU2LC0xMy4xMjE1NmgzNS4yNjQxOWM3LjI0Njg1LDAgMTMuMTIxNTcsNS44NzQ3MiAxMy4xMjE1NywxMy4xMjE1NnYwYzAsNy4yNDY4NCAtNS44NzQ3MywxMy4xMjE1NiAtMTMuMTIxNTcsMTMuMTIxNTZ6Ii8+PHBhdGggZD0iTTE1My4wNDY1OSw5OC45OTc4Yy03LjI0Njg0LDAgLTEzLjEyMTU2LC01Ljg3NDcyIC0xMy4xMjE1NiwtMTMuMTIxNTZ2MGMwLC03LjI0Njg0IDUuODc0NzIsLTEzLjEyMTU2IDEzLjEyMTU2LC0xMy4xMjE1NmgzNS4yNjQyYzcuMjQ2ODQsMCAxMy4xMjE1Niw1Ljg3NDcyIDEzLjEyMTU2LDEzLjEyMTU2djBjMCw3LjI0Njg0IC01Ljg3NDcyLDEzLjEyMTU2IC0xMy4xMjE1NiwxMy4xMjE1NnoiLz48L2c+PGcgc3Ryb2tlPSIjODhkNzExIiBzdHJva2Utd2lkdGg9IjIuNSI+PHBhdGggZD0iTTI3NS43MTIwNywyNDMuMjM1OTVjMCw1LjQ5ODE2IDAuMTA3ODUsMjcuMzk5MjcgMC4xMDc4NSwyNy4zOTkyN2MwLDAgLTMuMTM0MzMsLTAuMTM3MTggLTUuMjk0NjUsLTIuMTA1MmMtMi4xOTAxMSwtMS45OTUxNiAtMy40MTE3MywtNS44MTYxNiAtNC4xNzMzMywtNS4wMTc2OWMtNC45ODE0MSw1LjIyMjUyIC0xMS44NzQ2Niw4LjQ1NDY2IC0xOS40OTA3NSw4LjQ1NDY2Yy0xNS4xOTM3MiwwIC0yNy41MTA2NSwtMTIuODYzMzMgLTI3LjUxMDY1LC0yOC43MzEwNGMwLC0xNS44Njc3MSAxMi4zMTY5NCwtMjguNzMxMDQgMjcuNTEwNjUsLTI4LjczMTA0YzcuNzQzMDgsMCAxNC43MzkwMSwzLjM0MDgyIDE5LjczODMyLDguNzE3NTRjMC40NjI0MSwwLjQ5NzMyIDEuOTE3OTYsLTIuODc5MzkgNC4wNTIxOCwtNC45OTIyNWMyLjA0NjQsLTIuMDI1OTIgNC43ODQzLC0yLjc4MTg0IDQuNzg0MywtMi43ODE4NGMwLDAgMC4yNzYwOCwyMS40NzE1OCAwLjI3NjA4LDI3Ljc4NzU5eiIgZmlsbD0iIzg4ZDcxMSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiLz48cGF0aCBkPSJNMTc5LjUzNDc0LDIxNS45OTM5N3Y1NC43MjU3OWgtMTMuOTA0ODJ2LTU0LjcyNTc5YzAsMCAtMC42MDYxNywtNS4zMzUxNyAtNy43MDYyOSwtNS4zMDUwNWMtNy40MjE1NCwwLjAzMTQ4IC03Ljk4NTUsNS4zMDUwNSAtNy45ODU1LDUuMzA1MDV2NTQuNzI1NzloLTEzLjkwNDgydi01NC43MjU3OWMwLDAgMi4yMTM5NCwtMTkuMjQyOTcgMjEuNTE4MDMsLTE5LjE3MjY0YzE4LjU3NjI4LDAuMDY3NjggMjEuOTgzMzksMTkuMTcyNjQgMjEuOTgzMzksMTkuMTcyNjR6IiBmaWxsPSIjODhkNzExIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz48cGF0aCBkPSJNMjA5LjE4NzE4LDIxNS45OTM5N3Y1NC43MjU3OWgtMTMuOTA0ODJ2LTU0LjcyNTc5YzAsMCAtMC42MDYxNywtNS4zMzUxNyAtNy43MDYyOSwtNS4zMDUwNWMtNy40MjE1NCwwLjAzMTQ4IC03Ljk4NTUsNS4zMDUwNSAtNy45ODU1LDUuMzA1MDV2NTQuNzI1NzloLTEzLjkwNDgydi01NC43MjU3OWMwLDAgMi4yMTM5NCwtMTkuMjQyOTcgMjEuNTE4MDMsLTE5LjE3MjY0YzE4LjU3NjI4LDAuMDY3NjggMjEuOTgzMzksMTkuMTcyNjQgMjEuOTgzMzksMTkuMTcyNjR6IiBmaWxsPSIjODhkNzExIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz48cGF0aCBkPSJNMjYxLjczNTExLDI0My4zMTk3MWMwLDguNDE5NiAtNi41MjU0MiwxNS4yNDUwNCAtMTQuNTc0OTMsMTUuMjQ1MDRjLTguMDQ5NTEsMCAtMTQuNTc0OTMsLTYuODI1NDQgLTE0LjU3NDkzLC0xNS4yNDUwNGMwLC04LjQxOTYgNi41MjU0MiwtMTUuMjQ1MDQgMTQuNTc0OTMsLTE1LjI0NTA0YzguMDQ5NTEsMCAxNC41NzQ5Myw2LjgyNTQ0IDE0LjU3NDkzLDE1LjI0NTA0eiIgZmlsbD0iIzZjYWEwZSIgc3Ryb2tlLWxpbmVjYXA9ImJ1dHQiLz48cGF0aCBkPSJNMjkwLjM4MjM4LDE5NC4yMzQwM2gxMy43MzcyOXYyMS43Nzg2M2gyMS4xMDg1MnYxMy45MDQ4MmgtMjEuMTA4NTJjMCwwIC0wLjk5Mzg2LDE4Ljk1MzE3IDIuNzkwOTksMjMuODcwODhjMy44MTQzMiw0Ljk1NjAxIDE4Ljk4ODA4LDMuNzQ3NzQgMTguOTg4MDgsMy43NDc3NGwtMC4wMDA0NCwxMy40MjU3MmMwLDAgLTE4LjMyNzAzLDEuODcwMzMgLTI4LjM4MTM2LC02LjQwNzg0Yy04Ljk5NTQyLC03LjQwNjMyIC03LjMwMjA5LC0zNC42MzY1IC03LjMwMjA5LC0zNC42MzY1aC01Ljg2MzQ4di0xMy45MDQ4Mmg1Ljg2MzQ4eiIgZmlsbD0iIzg4ZDcxMSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+PHBhdGggZD0iTTMzNC40NDIyMywyMTYuMTgwMTl2NTQuNzgxNjNoMTMuNTY5NzZ2LTM0LjE3NTdjMCwwIDIuOTY4MzksLTQuODI3MjMgNi41NTg5NywtNS44NTY3YzQuMjc0OTMsLTEuMjI1NjggMTcuMzk3NTMsLTEuMDExOTUgMTcuMzk3NTMsLTEuMDExOTV2LTEzLjczNzI5YzAsMCAtMTMuMDE4MjEsLTAuNTk0OTUgLTE4LjA0OTg5LDAuMzg4MjVjLTQuNjU1NzIsMC45MDk3NCAtMTEuMDk5OTcsNS4zMDc3IC0xMS4wOTk5Nyw1LjMwNzdjMCwwIC0yLjc1MTUzLC0zLjk5NTMgLTQuMTcxODksLTQuOTYxMTRjLTEuMzY5OTYsLTAuOTMxNTcgLTQuMjA0NTEsLTAuNzM0ODEgLTQuMjA0NTEsLTAuNzM0ODF6IiBmaWxsPSIjODhkNzExIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz48cGF0aCBkPSJNMzc3LjU4MDY3LDIwMC43Njc2MmMwLC01LjA0MjUxIDQuMDg3NzYsLTkuMTMwMjcgOS4xMzAyNywtOS4xMzAyN2M1LjA0MjUxLDAgOS4xMzAyNyw0LjA4Nzc2IDkuMTMwMjcsOS4xMzAyN2MwLDUuMDQyNTEgLTQuMDg3NzYsOS4xMzAyNyAtOS4xMzAyNyw5LjEzMDI3Yy01LjA0MjUxLDAgLTkuMTMwMjcsLTQuMDg3NzYgLTkuMTMwMjcsLTkuMTMwMjd6IiBmaWxsPSIjODhkNzExIiBzdHJva2UtbGluZWNhcD0iYnV0dCIvPjxwYXRoIGQ9Ik0zNzkuNjc0NzcsMjE2LjE4MDE5djU0Ljc4MTYzaDEzLjU2OTc2di01NC45NDkxNnoiIGZpbGw9IiM4OGQ3MTEiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPjxwYXRoIGQ9Ik00MDAuNjE1NzYsMjE2LjUxNTI0bDM4LjM2MzksNTQuMjc5MDVoMTYuOTIwMzJsLTM5LjAzNDAxLC01NC40NDY1OHoiIGZpbGw9IiM4OGQ3MTEiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPjxwYXRoIGQ9Ik00NTUuODk5OTgsMjE2LjUxNTI0bC0zOC4zNjM5LDU0LjI3OTA1aC0xNi45MjAzMmwzOS4wMzQwMSwtNTQuNDQ2NTh6IiBkYXRhLXBhcGVyLWRhdGE9InsmcXVvdDtpbmRleCZxdW90OzpudWxsfSIgZmlsbD0iIzg4ZDcxMSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+PC9nPjwvZz48L2c+PC9zdmc+PCEtLXJvdGF0aW9uQ2VudGVyOjI5OS44Mjg3Mzk5OTk5OTk5OjE4NS43NTk3NjAwMDAwMDAwOS0tPg==";

class Matrix {
  constructor(runtime){
    this.runtime = runtime;
    this._formatMessage = runtime.getFormatMessage({
      'en':{
        //qxsckeasystruct.
        'qxsckmatrix.name': 'Matrix',

        'qxsckmatrix.isAMatrix': '[ARR] is matrix?',
        'qxsckmatrix.matrixOper': 'matrix [ARR] [OPER] matrix [ARR2]',
        'qxsckmatrix.matrixScalar': 'matrix [ARR] * [NUM]',
        'qxsckmatrix.matrixTranspose': 'transpose matrix [ARR]',
        'qxsckmatrix.matrixTrace': 'trace of matrix [ARR]',
      },
      'zh-cn': {
        //qxsckeasystruct.
        'qxsckmatrix.name': '矩阵',

        'qxsckmatrix.isAMatrix': '[ARR] 是矩阵吗？',
        'qxsckmatrix.matrixOper': '矩阵 [ARR] [OPER] 矩阵 [ARR2]',
        'qxsckmatrix.matrixScalar': '矩阵 [ARR] * [NUM]',
        'qxsckmatrix.matrixTranspose': '转置矩阵 [ARR]',
        'qxsckmatrix.matrixTrace': '矩阵 [ARR] 的迹',
      },
    });

    this.getmatrix= (n,m) => Array.from({length:n},()=>new Array(m).fill(0));

    this.isMatrix=function(matrix){
      if(!Array.isArray(matrix)) return false;
      const row=matrix.length,col=matrix[0].length;
      if(row===0 || col===0) return false;
      for(let i=0;i<row;i++){
        if(!Array.isArray(matrix[i]) || matrix[i].length!==col) return false;
        for(let j=0;j<col;j++){
          if(Number.isNaN(Number(matrix[i][j]))) return false;
        }
      }
      return true;
    }
    this.addMatrix=function(matrix1,matrix2){
      if(!this.isMatrix(matrix1) || !this.isMatrix(matrix2)) return '[]';
      matrix1=matrix1.map(row=>row.map(val=>Number(val)));
      matrix2=matrix2.map(row=>row.map(val=>Number(val)));

      const row=matrix1.length,col=matrix1[0].length;
      if(row!==matrix2.length || col!==matrix2[0].length) return '[]';
      let result=this.getmatrix(row,col);
      result=result.map((row,i)=>row.map((val,j)=>matrix1[i][j]+matrix2[i][j]));
      return result;
    }
    this.subMatrix=function(matrix1,matrix2){
      if(!this.isMatrix(matrix1) || !this.isMatrix(matrix2)) return '[]';
      matrix1=matrix1.map(row=>row.map(val=>Number(val)));
      matrix2=matrix2.map(row=>row.map(val=>Number(val)));

      const row=matrix1.length,col=matrix1[0].length;
      if(row!==matrix2.length || col!==matrix2[0].length) return '[]';
      let result=this.getmatrix(row,col);
      result=result.map((row,i)=>row.map((val,j)=>matrix1[i][j]-matrix2[i][j]));
      return result;
    }
    this.mulMatrix=function(matrix1,matrix2){
      if(!this.isMatrix(matrix1) || !this.isMatrix(matrix2)) return '[]';
      matrix1=matrix1.map(row=>row.map(val=>Number(val)));
      matrix2=matrix2.map(row=>row.map(val=>Number(val)));
      let row=matrix1.length;
      if(matrix1[0].length!==matrix2.length) return '[]';
      let result=this.getmatrix(row,matrix2[0].length);
      for(let i=0;i<row;i++){
        for(let j=0;j<matrix2[0].length;j++){
          let sum=0;
          for(let k=0;k<matrix2.length;k++){
            sum+=matrix1[i][k]*matrix2[k][j];
          }
          result[i][j]=sum;
          }
        }
      return result;
    }
    this.scalarMatrix=function(matrix1,num){
      if(!this.isMatrix(matrix1)) return '[]';
      matrix1=matrix1.map(row=>row.map(val=>Number(val)));

      const row=matrix1.length,col=matrix1[0].length;
      let result=this.getmatrix(row,col);
      result=result.map((row,i)=>row.map((val,j)=>matrix1[i][j]*num));
      return result;
    }
    this.transposeMatrix=function(matrix1){
      if(!this.isMatrix(matrix1)) return '[]';
      matrix1=matrix1.map(row=>row.map(val=>Number(val)));

      const row=matrix1.length,col=matrix1[0].length;
      let result=this.getmatrix(col,row);
      result=result.map((row,i)=>row.map((val,j)=>matrix1[j][i]));
      return result;
    }
    this.traceMatrix=function(matrix1){
      if(!this.isMatrix(matrix1)) return 'NaN';
      matrix1=matrix1.map(row=>row.map(val=>Number(val)));

      const row=matrix1.length,col=matrix1[0].length;
      if(row===col){
        let result=0;
        for(let i=0;i<row;i++) result+=matrix1[i][i];
        return result;
      }else{
        return 'NaN';
      }
    }
  }

  formatMessage(id) {
    return this._formatMessage({
      id,
      default: id,
      description: id,
    })
  }

  getInfo() {
    return {
      id:'qxsckmatrix',
      name: this.formatMessage('qxsckmatrix.name'),
      color1: '#6caa0e',
      color2: '#6caa0e',
      blockIconURI: Icon,
      menuIconURI: Icon,
      blocks: [
        //command,reporter,Boolean,hat,conditional,loop
        {
          opcode:'isAMatrix',
          blockType: 'Boolean',
          text: this.formatMessage('qxsckmatrix.isAMatrix'),
          arguments: {
            ARR: {
              type: 'string',
              defaultValue:'[[1,2],[3,4]]'
            },
          },
        },
        {
          opcode:'matrixOper',
          blockType: 'reporter',
          text: this.formatMessage('qxsckmatrix.matrixOper'),
          arguments: {
            ARR: {
              type: 'string',
              defaultValue:'[[1,2],[3,4]]'
            },
            ARR2: {
              type: 'string',
              defaultValue:'[[1,2],[3,4]]'
            },
            OPER: {
              type: 'string',
              menu: 'matrixOper.List',
            },
          },
        },
        {
          opcode:'matrixScalar',
          blockType: 'reporter',
          text: this.formatMessage('qxsckmatrix.matrixScalar'),
          arguments: {
            ARR: {
              type: 'string',
              defaultValue:'[[1,2],[3,4]]'
            },
            NUM: {
              type: 'string',
              defaultValue:'2'
            },
          },
        },
        {
          opcode:'matrixTranspose',
          blockType: 'reporter',
          text: this.formatMessage('qxsckmatrix.matrixTranspose'),
          arguments: {
            ARR: {
              type: 'string',
              defaultValue:'[[1,2],[3,4]]'
            },
          },
        },
        {
          opcode:'matrixTrace',
          blockType: 'reporter',
          text: this.formatMessage('qxsckmatrix.matrixTrace'),
          arguments: {
            ARR: {
              type: 'string',
              defaultValue:'[[1,2],[3,4]]'
            },
          },
        },
      ],
      menus: {
        'matrixOper.List':[
          {
            text: '+',
            value: '+'
          },
          {
            text: '-',
            value: '-'
          },
          {
            text: '*',
            value: '*'
          },
        ],
      }
    };
  }
  isAMatrix(args){
    try{
      let arr=JSON.parse(args.ARR);
      return this.isMatrix(arr);
    }catch(error){
      return false;
    }
  }
  matrixOper(args){
    let oper=args.OPER;
    try{
      let arr=JSON.parse(args.ARR),arr2=JSON.parse(args.ARR2);
      if(oper==='+') return JSON.stringify(this.addMatrix(arr,arr2));
      else if(oper==='-') return JSON.stringify(this.subMatrix(arr,arr2));
      else if(oper==='*') return JSON.stringify(this.mulMatrix(arr,arr2));
    }catch(error){
      return '[]';
    }
  }
  matrixScalar(args){
    try{
      let arr=JSON.parse(args.ARR),num=Number(args.NUM);
      return JSON.stringify(this.scalarMatrix(arr,num));
    }catch(error){
      return '[]';
    }
  }
  matrixTranspose(args){
    try{
      let arr=JSON.parse(args.ARR);
      return JSON.stringify(this.transposeMatrix(arr));
    }catch(error){
      return '[]';
    }
  }
  matrixTrace(args){
    try{
      let arr=JSON.parse(args.ARR);
      return this.traceMatrix(arr);
    }catch(error){
      return 'NaN';
    }
  }
}

window.tempExt = {
  Extension: Matrix,
  info: {
    name: 'qxsckmatrix.name',
    description: 'qxsckmatrix.description',
    extensionId: 'qxsckmatrix',
    iconURL: insetIcon,
    insetIconURL: Icon,
    featured: true,
    disabled: false,
    collaborator: 'CK七星松@CCW'
  },
  l10n: {
    'zh-cn': {
      'qxsckmatrix.name': '矩阵',
      'qxsckmatrix.description': '帮你进行矩阵的计算与操作',
    },
    'en': {
      'qxsckmatrix.name': 'Matrix',
      'qxsckmatrix.description': 'Help you calculate and operate matrix.',
    },
  },
}
